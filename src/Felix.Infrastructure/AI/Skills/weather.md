# 天氣查詢

## 查詢流程

### 台灣縣市
直接使用 `get_taiwan_weather(location: "縣市名")`
- 縣市：臺北市、新北市、桃園市、臺中市、臺南市、高雄市 等

### 台灣鄉鎮（僅支援以下）
- 中壢 → `get_taiwan_weather(location: "中壢區", city: "桃園市")`
- 中和 → `get_taiwan_weather(location: "中和區", city: "新北市")`

其他鄉鎮請用所屬縣市查詢。

### 國際地區
1. 用戶指定城市 → `geocode(q: "城市名")` → 取得座標 → `get_forecast(latitude, longitude)`
2. 用戶提供座標 → 直接 `get_forecast(latitude, longitude)`

注意：geocode 的參數名是 `q`，不是 `location`

## 回傳資料說明（台灣）

`get_taiwan_weather` 回傳 JSON，包含：

- `location`: 地點名稱
- `periods`: 逐小時預報陣列（24 小時）
  - `startTime`, `endTime`: 時段
  - `temperature`: 溫度
  - `apparentTemperature`: 體感溫度（更能反映實際感受）
  - `rainProbability`: 降雨機率 (%)
  - `weather`: 天氣現象（晴、多雲、陰、雨等）
  - `humidity`: 相對濕度 (%)
  - `windSpeed`, `windDirection`: 風速風向
  - `comfortDescription`: 舒適度描述
- `isRainingNow`: 現在是否下雨
- `rainStopDescription`: 雨停預測（如「預計下午 3 點雨停」或「持續有雨」）

## 回覆格式

簡潔但完整且充滿人性，根據情境會有適合的回應。重點資訊：

### 核心資訊（必說）
- 實際溫度和體感溫度都要說（例：「26°C，體感 29°C」）
- 天氣狀況
- 下雨則說明雨停時間

### 情境資訊（視情況）
- 溫差大（≥8°C）→ 提醒帶外套
- 濕度高（≥80%）→ 提醒悶熱
- 風速強 → 騎車/外出注意
- 舒適度差 → 適當提醒

### 時段重點（根據用戶訊息中的「現在時間」判斷）
- 早上（6-12點）：告知早上 → 下午 → 晚上
- 下午（12-18點）：告知下午 → 晚上
- 晚上（18點後）：告知晚上 → 凌晨（可提及明天凌晨）
- 早上/下午詢問時，不要提及凌晨

## 範例

早上詢問，有雨：
> 中壢早上 22°C、體感 19°C 有點涼，正在下小雨，預計下午 3 點雨停。下午回溫到 26°C，記得帶傘出門。晚上降到 18°C，溫差大建議帶外套。

下午詢問，晴天：
> 台北下午 26°C、體感 28°C，天氣晴朗舒適。晚上降到 22°C，適合外出走走。

晚上詢問：
> 新竹現在 20°C、體感 22°C，天氣多雲，適合散步。凌晨會降到 16°C，早起的話記得保暖。

## 注意

- 實際溫度和體感溫度都要說
- 根據「現在時間」判斷要說的時段範圍
- 晚上詢問可提及凌晨，其他時段不提及凌晨
- 回覆必須是一段連續的文字，不要換行（會用語音播放）
- 不要列出所有數據，只說重要的
